<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¹ì²¨ í†µê³„ - ë¡œë˜ ì‹œë®¬ë ˆì´í„°</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="google-adsense-account" content="ca-pub-3787589077058710">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3787589077058710" crossorigin="anonymous"></script>
</head>
<body>
    <header class="main-header">
        <div class="logo">ğŸ± Lotto Sim</div>
        <div class="settings-group">
            <nav>
                <a href="index.html" data-ko="í™ˆ" data-en="Home">í™ˆ</a>
                <a href="about.html" data-ko="ì†Œê°œ" data-en="About">ì†Œê°œ</a>
                <a href="stats.html" class="active" data-ko="í†µê³„" data-en="Stats">í†µê³„</a>
            </nav>
            <button id="langToggle" class="toggle-btn">ENG</button>
            <button id="themeToggle" class="toggle-btn">ğŸŒ</button>
        </div>
    </header>

    <div class="container" style="max-width: 1000px; padding-top: 100px;">
        <h1 class="title" data-ko="ë¡œë˜ ë‹¹ì²¨ í†µê³„" data-en="Lotto Winning Stats">ë¡œë˜ ë‹¹ì²¨ í†µê³„</h1>
        
        <div class="stats-panel">
            <h2 data-ko="ğŸ“Š ìµœê·¼ 10íšŒ ë‹¹ì²¨ë²ˆí˜¸" data-en="ğŸ“Š Last 10 Draws">ğŸ“Š ìµœê·¼ 10íšŒ ë‹¹ì²¨ë²ˆí˜¸</h2>
            <div class="table-container">
                <table id="recentDrawsTable">
                    <thead>
                        <tr>
                            <th data-ko="íšŒì°¨" data-en="Round">íšŒì°¨</th>
                            <th data-ko="ë²ˆí˜¸ 1" data-en="Num 1">ë²ˆí˜¸ 1</th>
                            <th data-ko="ë²ˆí˜¸ 2" data-en="Num 2">ë²ˆí˜¸ 2</th>
                            <th data-ko="ë²ˆí˜¸ 3" data-en="Num 3">ë²ˆí˜¸ 3</th>
                            <th data-ko="ë²ˆí˜¸ 4" data-en="Num 4">ë²ˆí˜¸ 4</th>
                            <th data-ko="ë²ˆí˜¸ 5" data-en="Num 5">ë²ˆí˜¸ 5</th>
                            <th data-ko="ë²ˆí˜¸ 6" data-en="Num 6">ë²ˆí˜¸ 6</th>
                            <th data-ko="ë³´ë„ˆìŠ¤" data-en="Bonus">ë³´ë„ˆìŠ¤</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be inserted here -->
                    </tbody>
                </table>
            </div>

            <h2 style="margin-top: 50px;" data-ko="ğŸ“ˆ ë²ˆí˜¸ë³„ ë‹¹ì²¨ íšŸìˆ˜ (ì „ì²´ ê¸°ê°„)" data-en="ğŸ“ˆ Frequency by Number (All Time)">ğŸ“ˆ ë²ˆí˜¸ë³„ ë‹¹ì²¨ íšŸìˆ˜ (ì „ì²´ ê¸°ê°„)</h2>
            <div class="chart-container" style="position: relative; height:400px; width:100%">
                <canvas id="frequencyChart"></canvas>
            </div>

            <p style="text-align: right; color: #888; font-size: 0.8rem; margin-top: 20px;" data-ko="* ë³¸ ìë£ŒëŠ” ë™í–‰ë³µê¶Œì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤." data-en="* Based on data from Donghang Lottery.">
                * ë³¸ ìë£ŒëŠ” <a href="https://www.dhlottery.co.kr/" target="_blank" style="color: #fbc400;">ë™í–‰ë³µê¶Œ</a>ì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
        </div>
    </div>

    <footer class="main-footer">
        <p>&copy; 2026 Lotto Simulator. All rights reserved.</p>
        <div class="footer-links">
            <a href="privacy.html" data-ko="ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨" data-en="Privacy Policy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            <span>|</span>
            <a href="mailto:contact@example.com" data-ko="ë¬¸ì˜í•˜ê¸°" data-en="Contact">ë¬¸ì˜í•˜ê¸°</a>
            <br>
            <div class="disclaimer" style="font-size: 0.7rem; padding: 5px; margin-top: 10px;" data-ko="âš ï¸ ë³¸ ì‚¬ì´íŠ¸ëŠ” ì¬ë¯¸ë¥¼ ìœ„í•œ ì‹œë®¬ë ˆì´ì…˜ì´ë©° ì‹¤ì œ ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." data-en="âš ï¸ This is a simulation for fun and does not guarantee winning.">
                âš ï¸ ë³¸ ì‚¬ì´íŠ¸ëŠ” ì¬ë¯¸ë¥¼ ìœ„í•œ ì‹œë®¬ë ˆì´ì…˜ì´ë©° ì‹¤ì œ ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('data.json');
                const data = await response.json();
                
                // 1. Render Table
                const tbody = document.querySelector('#recentDrawsTable tbody');
                data.last_10.forEach(draw => {
                    const row = document.createElement('tr');
                    
                    const createBall = (num) => {
                        let color = 'yellow';
                        if (num > 10) color = 'blue';
                        if (num > 20) color = 'red';
                        if (num > 30) color = 'gray';
                        if (num > 40) color = 'green';
                        return `<span class="ball-small ${color}">${num}</span>`;
                    };

                    row.innerHTML = `
                        <td>${draw.draw_no}</td>
                        <td>${createBall(draw.num1)}</td>
                        <td>${createBall(draw.num2)}</td>
                        <td>${createBall(draw.num3)}</td>
                        <td>${createBall(draw.num4)}</td>
                        <td>${createBall(draw.num5)}</td>
                        <td>${createBall(draw.num6)}</td>
                        <td style="border-left: 2px solid #555;">${createBall(draw.bonus)}</td>
                    `;
                    tbody.appendChild(row);
                });

                // 2. Render Chart
                const ctx = document.getElementById('frequencyChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: data.stats.labels,
                        datasets: [{
                            label: 'ë‹¹ì²¨ íšŸìˆ˜',
                            data: data.stats.data,
                            backgroundColor: data.stats.labels.map(num => {
                                num = parseInt(num);
                                if (num <= 10) return 'rgba(252, 238, 10, 0.8)';
                                if (num <= 20) return 'rgba(0, 243, 255, 0.8)';
                                if (num <= 30) return 'rgba(255, 0, 170, 0.8)';
                                if (num <= 40) return 'rgba(176, 176, 176, 0.8)';
                                return 'rgba(10, 255, 10, 0.8)';
                            }),
                            borderColor: '#050510',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                grid: { color: 'rgba(0, 243, 255, 0.1)' },
                                ticks: { color: '#00f3ff', font: { family: 'monospace' } }
                            },
                            x: {
                                grid: { display: false },
                                ticks: { 
                                    color: '#00f3ff',
                                    font: { family: 'monospace' },
                                    callback: function(val, index) {
                                        return index % 5 === 0 ? this.getLabelForValue(val) : '';
                                    }
                                }
                            }
                        }
                    }
                });

            } catch (error) {
                console.error("Failed to load data:", error);
            }
        });
    </script>
</body>
</html>